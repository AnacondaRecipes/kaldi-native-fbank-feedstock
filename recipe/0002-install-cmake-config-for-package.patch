From 1b0f54b132c15579f4490208dedbc1ebec8a42e8 Mon Sep 17 00:00:00 2001
From: Jack Olivieri <jolivieri@anaconda.com>
Date: Fri, 11 Oct 2024 17:28:10 +0200
Subject: [PATCH] install cmake config for package

---
 kaldi-native-fbank/csrc/CMakeLists.txt | 6 +++++-
 1 file changed, 5 insertions(+), 1 deletion(-)

diff --git a/kaldi-native-fbank/csrc/CMakeLists.txt b/kaldi-native-fbank/csrc/CMakeLists.txt
index ac90ee4..d8dbd14 100644
--- a/kaldi-native-fbank/csrc/CMakeLists.txt
+++ b/kaldi-native-fbank/csrc/CMakeLists.txt
@@ -79,7 +79,7 @@ if(KALDI_NATIVE_FBANK_BUILD_PYTHON AND WIN32)
 endif()
 
 if(KALDI_NATIVE_FBANK_BUILD_TESTS)
-  install(TARGETS test-online-fbank
+  install(TARGETS test-online-fbank test-rfft test-log
     DESTINATION bin
   )
 endif()
@@ -99,3 +99,7 @@ file(COPY
 install(FILES ${all_headers}
   DESTINATION include/kaldi-native-fbank/csrc
 )
+
+# Install the CMake config file
+install(FILES $ENV{RECIPE_DIR}/kaldi-native-fbankConfig.cmake
+        DESTINATION lib/cmake/kaldi-native-fbank)
+message(STATUS "CMAKE_CURRENT_LIST_DIR ${CMAKE_CURRENT_LIST_DIR}")
\ No newline at end of file
-- 
2.39.5 (Apple Git-154)

